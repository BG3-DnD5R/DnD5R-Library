new entry "Interrupt_ON_POST_ROLL"
type "InterruptData"

new entry "Interrupt_BeguilingTwistFrighten"
type "InterruptData"
data "DisplayName" "he4f4aaccgc80eg1f9fg5281gf8959ae1f5d6;1"
data "Description" "hf3738820gc71cgf5d0ged2bgbf61ffbe1161;1"
data "Icon" "Spell_Illusion_Fear"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and HasInterruptedSavingThrow() and HasSavingThrowWIthAbility(Ability.Wisdom) and not AnyEntityIsItem() and (Ally(context.Target, context.Observer) or (not Self(context.Target,context.Observer) and Ally(context.Target, context.Observer))) "
data "Properties" "UseSpell(SWAP,Target_BeguilingTwistFrighten,true,true,true)"
data "Cost" "ReactionActionPoint:1"
data "Stack" "BeguilingTwist"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_BeguilingTwistCharm"
type "InterruptData"
using "Interrupt_BeguilingTwistFrighten"
data "DisplayName" "h2e09994dg511egb29bgda3dg570be03ab4d2;1"
data "Description" "h6cc64cdegd027ge688gb047ge489a38cf246;1"
data "Icon" "PassiveFeature_InstinctiveCharm"
data "Properties" "UseSpell(SWAP,Target_BeguilingTwistCharm,true,true,true)"

new entry "Interrupt_Countercharm"
type "InterruptData"
data "DisplayName" "h2a29a469gd4e8g4db6g564bg711f3982a0b8;1"
data "Description" "h6264847cg7800ge0b8g928bg814f60570ac0;1"
data "Icon" "Action_Bard_Countercharm"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Dead(context.Observer) and HasInterruptedSavingThrow() and HasSavingThrowWIthAbility(Ability.Wisdom) and (Self(context.Target,context.Observer) or Ally(context.Target,context.Observer)) and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source)"
data "Properties" "SetAdvantage();SetReroll(19,true);"
data "Cost" "ReactionActionPoint:1"
data "Stack" "Countercharm"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_CosmicOmenWeal"
type "InterruptData"
data "DisplayName" "ha1b8a356g7f0fgc86dge496g3c7972935973;1"
data "Description" "hd4b684fag166fgb846g8541ge8777ece5a04;1"
data "Icon" "PassiveFeature_Indomitable"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Dead(context.Observer) and not Self(context.Target,context.Observer) and ((HasInterruptedAttack() and not IsCritical() and Enemy(context.Observer,context.Target) and Ally(context.Observer,context.Source)) or (HasInterruptedSavingThrow() and Ally(context.Target,context.Observer))) and IsFlatValueInterruptInteresting(6,context.Source) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(1d6)"
data "Cost" "ReactionActionPoint:1;CosmicOmen5R:1"
data "Stack" "CosmicOmen"
data "Cooldown" "OncePerShortRest"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_CosmicOmenWoe"
type "InterruptData"
data "DisplayName" "he44970b7g3226g7703ge861g1351a34e1f7c;1"
data "Description" "h8990f913ge216g4ed5gc95ag97cb3836428a;1"
data "Icon" "PassiveFeature_Indomitable"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and ((not Self(context.Source,context.Observer) and HasInterruptedAttack() and Enemy(context.Source, context.Observer) and IsFlatValueInterruptInteresting(6, context.Source)) or (not Self(context.Target,context.Observer) and HasInterruptedSavingThrow() and Enemy(context.Target, context.Observer) and IsFlatValueInterruptInteresting(6))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(-1d6)"
data "Cost" "ReactionActionPoint:1;CosmicOmen5R:1"
data "Stack" "CosmicOmen"
data "Cooldown" "OncePerShortRest"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_CuttingWords"
type "InterruptData"
data "DisplayName" "h04cd9c24g4e19g422bg983bge808593fb7c0;1"
data "Description" "h3ab0da6aga36dg4861g906egff10a4c63cc8;3"
data "DescriptionParams" "LevelMapValue(BardicInspiration)"
data "Icon" "PassiveFeature_CuttingWords"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and ((HasInterruptedAttack() and Enemy(context.Source,context.Observer) and ((not ClassLevelHigherOrEqualThan(5,'Bard') and IsFlatValueInterruptInteresting(6, context.Source)) or (ClassLevelHigherOrEqualThan(5,'Bard') and not ClassLevelHigherOrEqualThan(10,'Bard') and IsFlatValueInterruptInteresting(8, context.Source)) or (ClassLevelHigherOrEqualThan(10,'Bard') and IsFlatValueInterruptInteresting(10, context.Source)))) or (HasInterruptedSavingThrow() and Enemy(context.Target,context.Observer) and ((not ClassLevelHigherOrEqualThan(5,'Bard') and IsFlatValueInterruptInteresting(6)) or (ClassLevelHigherOrEqualThan(5,'Bard') and not ClassLevelHigherOrEqualThan(10,'Bard') and IsFlatValueInterruptInteresting(8)) or (ClassLevelHigherOrEqualThan(10,'Bard') and IsFlatValueInterruptInteresting(10))))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(OBSERVER_OBSERVER,0-LevelMapValue(BardicInspiration));ApplyStatus(OBSERVER_SOURCE,INTERRUPT_CUTTING_WORDS_TARGET,100,0);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_CUTTING_WORDS,100,0);IF(not Self(context.Target, context.Observer)):UseSpell(OBSERVER_SOURCE,Target_CuttingWords,true,true,true)"
data "Cost" "ReactionActionPoint:1;BardicInspiration:1"
data "InterruptDefaultValue" "Enabled;Ask"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_RecklessAttack"
type "InterruptData"
data "DisplayName" "h701c1f32g4fccg44f3gafdbgdf0638885c02;1"
data "Description" "h132e19c7gfdc7g41a4g9cd5ga1bd1106e5e7;1"
data "Icon" "Action_Barbarian_RecklessAttack"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and IsMeleeWeaponAttack() and not HasStatus('RECKLESS_ATTACK',context.Observer) and not SpellId('Target_RecklessAttack') and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source) and not InterruptHasAdvantage()"
data "Properties" "SetAdvantage();ApplyStatus(OBSERVER_OBSERVER,RECKLESS_ATTACK,100,1)"
data "Cooldown" "OncePerTurn"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_HomingStrikes"
type "InterruptData"
data "DisplayName" "hd0bf5adcg8b72g8cb0g5e8ag350cada63c80;1"
data "Description" "h439d8906g40eegdb97g35ddgb67175e31c42;1"
data "DescriptionParams" "LevelMapValue(SoulKnifeDie5R)"
data "Icon" "PassiveFeature_BardicInspiration_Attack"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and IsMeleeWeaponAttack() and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source)"
data "Properties" "AdjustRoll(OBSERVER_OBSERVER,ResourceRoll(SoulKnifeDie5R,1));"
data "Cost" "ReactionActionPoint:1;SoulKnifeDie5R:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved;OnEquip"

new entry "Interrupt_SeekingSpell"
type "InterruptData"
data "DisplayName" "hb8a48545ga2fbg4aa2ga929g87e9909aacce;1"
data "Description" "h26e14333g59d2g4ff2g1b7dg03e7557e2af0;1"
data "Icon" "Skill_Sorcerer_Passive_Metamagic_TwinnedSpell"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and IsSpell() and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source)"
data "Properties" "SetReroll(19,true);"
data "Cost" "SorceryPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasActionResource('SorceryPoint,1,0, false, false, context.Source) and not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied;OnActionResourcesChanged;OnCreate;OnStatusRemoved"

new entry "Interrupt_Indomitable"
type "InterruptData"
data "DisplayName" "he61f1d6eg4fd9gecb1gc5acg81922666b5ac;1"
data "Description" "hb36e05b5gd841g730ag4cebgf2db3558e593;2"
data "Icon" "PassiveFeature_Indomitable"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedSavingThrow() and Self(context.Observer,context.Target) and not AnyEntityIsItem() and IsRerollInterruptInteresting()"
data "Properties" "SetReroll(19,true);AdjustRoll(10);"
data "Cost" "ReactionActionPoint:1;Interrupt_Indomitable:1"
data "Stack" "Indomitable"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasActionResource('Interrupt_Indomitable', 1, 0, false, false, context.Source) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER'))"
data "EnableContext" "OnActionResourcesChanged"

new entry "Interrupt_PeerlessSkill"
type "InterruptData"
data "DisplayName" "h7a5b4cbag6d7bgc2a2g501ag01b1200cecbd;1"
data "Description" "h71e58b7cg55edgddf0ge447g916a6d6893a3;2"
data "Icon" "PassiveFeature_Indomitable"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Target) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(10)"
data "Properties" "SetReroll(19,true);AdjustRoll(OBSERVER_OBSERVER,ResourceRoll(BardicInspiration,1))"
data "Cost" "BardicInspiration:1"
data "Stack" "PeerlessSkill"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_RestoreBalanceAdvantage"
type "InterruptData"
data "DisplayName" "hf16f71b4g4957g638egfc10g1a498a252ab1;1"
data "Description" "hb8de1480g7196g955fgd15eg0671a51f1572;1"
data "Icon" "statIcons_OffBalanced"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and ((HasInterruptedAttack() and Enemy(context.Source, context.Observer)) or (not Self(context.Target,context.Observer) and HasInterruptedSavingThrow() and Enemy(context.Target, context.Observer))) and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Target) and InterruptHasAdvantage()"
data "Properties" "SetDisadvantage();SetReroll(19,true)"
data "Cost" "ReactionActionPoint:1;RestoreBalance5R:1"
data "Stack" "RestoreBalance"
data "Cooldown" "OncePerShortRest"
data "InterruptDefaultValue" "Enabled;Ask"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_RestoreBalanceDisadvantage"
type "InterruptData"
data "DisplayName" "h35e4512eg932cgf046gcf27g10db0d75f8ef;1"
data "Description" "h24ead096g706fge6a5g0cecg46b181c816e7;1"
data "Icon" "statIcons_OffBalanced"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and ((HasInterruptedAttack() and Ally(context.Source, context.Observer)) or (not Self(context.Target,context.Observer) and HasInterruptedSavingThrow() and Ally(context.Target, context.Observer))) and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source) and InterruptHasDisadvantage()"
data "Properties" "SetAdvantage();"
data "Cost" "ReactionActionPoint:1;RestoreBalance5R:1"
data "Stack" "RestoreBalance"
data "Cooldown" "OncePerShortRest"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_UnbreakableMajesty"
type "InterruptData"
data "DisplayName" "h5900b38dgd858g05c2g9e76g06af69bb45c5;1"
data "Description" "hae8d3c5ag2fa2g8badg75f0g05dab55483a5;1"
data "Icon" "Spell_Conjuration_GuardianOfFaith"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and HasInterruptedAttack() and not AnyEntityIsItem() "
data "Roll" "not SavingThrow(Ability.Charisma(), SourceSpellDC(13,context.Observer,Ability.Charisma),false,false,context.Source)"
data "Success" "SetRoll(1)"
data "Stack" "UnbreakableMajesty"
data "Cooldown" "OncePerTurn"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemove"

new entry "Interrupt_WardingFlare"
type "InterruptData"
data "DisplayName" "h1ae0fb50ge66ag446cg93aegca2fafe166e1;1"
data "Description" "hc7181cc7g018dg4db7ga905gf08e6842882a;3"
data "ExtraDescription" "h942f4592g1605g4dd2g8ee3ga1982c62d11f;3"
data "Icon" "PassiveAction_WardingFlare"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and HasInterruptedAttack() and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source) and not InterruptHasDisadvantage()"
data "Properties" "SetDisadvantage();ApplyStatus(OBSERVER_TARGET,PASSIVE_WARDING_FLARE,100,0);IF(HasPassive('WardingFlare_Improved')):ApplyStatus(OBSERVER_TARGET,WARDING_FLARE_HP,100,-1)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_ON_PRE_DAMAGE"
type "InterruptData"

new entry "Interrupt_ShieldMaster"
type "InterruptData"
data "DisplayName" "h8267cfd7geaf7g4cebgaae3g56ca79cd6714;1"
data "Description" "h5034533cgd2a9g47a4g92afg71f63fc6733f;5"
data "Icon" "PassiveFeature_ShieldMaster_Block"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and HasDamageEffectFlag(DamageFlags.SavingThrow) and HasSpellFlag(SpellFlags.CanAreaDamageEvade) and not AnyEntityIsItem()"
data "Properties" "SetRoll(0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasShieldEquipped(context.Source) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise'))"
data "EnableContext" "OnEquip;OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_ProtectiveField"
type "InterruptData"
data "DisplayName" "h808f2fdegbdebgb676ge3abgfa7c6c0cf7f0;1"
data "Description" "h46c915edgc8fbg1511ga96cga8e7810f1b5b;1"
data "DescriptionParams" "1d8;IntelligenceModifier"
data "Icon" "Spell_Abjuration_GlobeOfInvulnerability"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and (Self(context.Target,context.Observer) or Ally(context.Target,context.Observer)) and IsAttack() and HasDamageEffectFlag(DamageFlags.Hit) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(0-(1d8));IF(not Self(context.Target, context.Observer)):UseSpell(OBSERVER_OBSERVER,Target_ProtectiveField,true,true,true))"
data "Cost" "ReactionActionPoint:1;PsiWarriorDie5R:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnEquip"

new entry "Interrupt_GithyankiParry"
type "InterruptData"
data "DisplayName" "h3563b273g453eg49a9g80c4gf06007d25f3f;1"
data "Description" "h92b61434g5ccdg498eg8523gcb008715e206;1"
data "DescriptionParams" "10"
data "ExtraDescription" "hdc8bb721gff1eg42c4ga3b7g70e3d6c2bb5d;1"
data "Icon" "PassiveFeature_Parry"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and IsAttack() and not HasSpellFlag(SpellFlags.Spell) and HasDamageEffectFlag(DamageFlags.Hit) and not HasStatus('SG_Blinded') and not HasStatus('SG_Prone') and not HasStatus('SG_Incapacitated') and not HasStatus('SG_Restrained')"
data "Properties" "AdjustRoll(-10); ApplyStatus(OBSERVER_OBSERVER,PARRIED_GITHYANKI,100,1); RemoveStatus(OBSERVER_OBSERVER, PARRY_GITHYANKI)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "IsWeaponOfProficiencyGroup('Greatswords', GetActiveWeapon())"
data "EnableContext" "OnEquip"

new entry "Interrupt_FightingStyle_Protection"
type "InterruptData"
data "DisplayName" "h95c9a57bg5357g3d4eg8d24g39858d91fbad;1"
data "Description" "hc7fe12f4g7b86g2f64g8305gec360ba7a1a4;1"
data "DescriptionParams" "Distance(1.5)"
data "Icon" "PassiveFeature_FightingStyle_Protection"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and HasShieldEquipped(context.Observer) and not Self(context.Source,context.Observer) and not Self(context.Target,context.Observer) and Ally(context.Target, context.Observer) and HasInterruptedAttack() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Target) and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source) and not InterruptHasDisadvantage()"
data "Properties" "SetDisadvantage();ApplyStatus(OBSERVER_TARGET,INTERRUPT_FIGHTINGSTYLE_PROTECTION,100,1)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasShieldEquipped(context.Source) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER'))"
data "EnableContext" "OnStatusApplied;OnStatusRemoved;OnEquip"

new entry "Interrupt_FightingStyle_Interception"
type "InterruptData"
using "Interrupt_FightingStyle_Protection"
data "DisplayName" "he99459f7g6001g00acg2d4fg2e96014b2607;1"
data "Description" "hccce80dag77c3gc791g8ecfg72a21163a0d9;3"
data "DescriptionParams" "Distance(1.5);1d10;LevelMapValue(StandardProficiencyBonusScale)"
data "InterruptContext" "OnPreDamage"
data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Source,context.Observer) and not Self(context.Target,context.Observer) and Ally(context.Target, context.Observer) and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Target) and not AnyEntityIsItem() and IsAttack() and not HasSpellFlag(SpellFlags.Spell) and HasDamageEffectFlag(DamageFlags.Hit) and not HasStatus('SG_Blinded') and not HasStatus('SG_Prone') and not HasStatus('SG_Incapacitated') and not HasStatus('SG_Restrained')"
data "Properties" "AdjustRoll(0-(1d10+LevelMapValue(StandardProficiencyBonusScale)));ApplyStatus(OBSERVER_TARGET,PARRIED_GITHYANKI,100,1); RemoveStatus(OBSERVER_TARGET, PARRY_GITHYANKI)"
data "EnableCondition" "(HasShieldEquipped(context.Source) or HasWeaponInMainHand()) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER'))"

new entry "Interrupt_ON_CAST_HIT"
type "InterruptData"

new entry "Interrupt_BeguilingDefenses"
type "InterruptData"
data "DisplayName" "hba3e2436ga155gf533ged94g9dad89696dca;1"
data "Description" "h622addaag3a17g0a8cg15feg842dac6599f1;3"
data "DescriptionParams" "DealDamage(5d10,Psychic)"
data "Icon" "PassiveFeature_BeguilingDefenses"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not HasVerbalComponentBlocked(context.Observer) and IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and HasFunctor(StatsFunctorType.DealDamage) and IsHit() and not AnyEntityIsItem() and HasLastAttackTriggered()"
data "Properties" "ApplyStatus(OBSERVER_OBSERVER,BEGUILING_DEFENSES,100,1);UseSpell(SWAP,Target_BeguilingDefensesReturn,true,true,true)"
data "Cost" "ReactionActionPoint:1;WarlockSpellSlot:1:5"
data "Stack" "BeguilingDefenses"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_CombatInspiration_Damage"
type "InterruptData"
using "Interrupt_CombatInspiration_Attack"
data "DisplayName" "haa3da5c0g3bc8g4fe1g870fgd137c96c4103;1"
data "Description" "h752b6036g1720g448eg85f1gd4c45a1d671b;2"
data "Icon" "PassiveFeature_CombatInspiration_WeaponDamage"
data "InterruptContext" "OnCastHit"
data "Conditions" "not Dead(context.Observer) and Character() and IsWeaponAttack() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and not IsKillingBlow() and not AnyEntityIsItem()"
data "Properties" "IF(IsMeleeAttack()):DealDamage(ResourceRoll(BardicInspiration,1), MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(ResourceRoll(BardicInspiration,1), MainRangedWeaponDamageType);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT_D8);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT_D10);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_BARDIC_INSPIRATION_COMBAT_DAMAGE,100,0)"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_CombatInspiration_Damage_d8"
type "InterruptData"
using "Interrupt_CombatInspiration_Damage"
data "DescriptionParams" "1d8"

new entry "Interrupt_CombatInspiration_Damage_d10"
type "InterruptData"
using "Interrupt_CombatInspiration_Damage"
data "DescriptionParams" "1d10"

new entry "Interrupt_GiantKiller"
type "InterruptData"
data "DisplayName" "hbfd30a68g2d1ag4d86gb5f2g9ed3a33643eb;1"
data "Description" "h6ea0cb08g396fg4385ga63bgec08609e6cdc;3"
data "Icon" "PassiveFeature_GiantKiller"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and SizeEqualOrGreater(Size.Large, context.Source) and IsMeleeAttack() and not HasStatus('INVISIBILITY', context.Source) and Self(context.Target,context.Observer) and not AnyEntityIsItem() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and HasLastAttackTriggered()"
data "Properties" "UseAttack(SWAP);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_GIANTKILLER,100,0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_HellishRebuke"
type "InterruptData"
data "DisplayName" "h36cf052fg6ff9g4cafg85a0g8ac9d6438f5f;1"
data "Description" "h9a9475cbg7c2dg4a23g99b3g436bdeaafb38;3"
data "DescriptionParams" "DealDamage(2d10,Fire)"
data "Icon" "PassiveFeature_HellishRebuke"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not HasVerbalComponentBlocked(context.Observer) and IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and HasFunctor(StatsFunctorType.DealDamage) and IsHit() and not AnyEntityIsItem() and HasLastAttackTriggered()"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:1"
data "Stack" "HellishRebuke"
data "InterruptDefaultValue" "Enabled;Ask"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_HellishRebuke_WarlockMI"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "ExtraDescription" "hc2719e11ge3ecg40a4ga8dfg9ceb3eb3a258;1"
data "Cost" "ReactionActionPoint:1;Interrupt_HellishRebukeWarlockMI_Charge:1"
data "EnableCondition" "HasActionResource('Interrupt_HellishRebukeWarlockMI_Charge', 1, 0, false, false, context.Source) and (not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER') or HasStatus('SG_Disguise'))"
data "EnableContext" "OnStatusApplied;OnStatusRemoved;OnActionResourcesChanged"

new entry "Interrupt_HellishRebuke_2"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(3d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_2,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:2"

new entry "Interrupt_HellishRebuke_AsmodeusTiefling"
type "InterruptData"
using "Interrupt_HellishRebuke_2"
data "DisplayName" "hacde4776g3647g4ce5ga7b1g6018960810ae;1"
data "ExtraDescription" "h6c2e47ebg12c9g438agaae4g0b3509e4ed53;2"
data "Cost" "ReactionActionPoint:1;Interrupt_HellishRebukeTiefling_Charge:1"
data "EnableCondition" "HasActionResource('Interrupt_HellishRebukeTiefling_Charge', 1, 0, false, false, context.Source) and (not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER') or HasStatus('SG_Disguise'))"
data "EnableContext" "OnStatusApplied;OnStatusRemoved;OnActionResourcesChanged"

new entry "Interrupt_HellishRebuke_3"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(4d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_3,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:3"

new entry "Interrupt_HellishRebuke_4"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(5d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_4,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:4"

new entry "Interrupt_HellishRebuke_5"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(6d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_5,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:5"

new entry "Interrupt_HellishRebuke_6"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(7d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_6,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:6"

new entry "Interrupt_HurlThroughHell"
type "InterruptData"
data "DisplayName" "h5a21f7a0g76b4g18d8g69e6gea30b9718b22;1"
data "Description" "hbf90157ag043cg9c20g85e7g69e13b8ad0d1;1"
data "DescriptionParams" "DealDamage(8d10,Psychic)"
data "Icon" "Spell_Abjuration_Banishment"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Tagged('FIEND') and not Item() and not IsMiss() and Self(context.Source,context.Observer) and Enemy(context.Target,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and TotalDamageDoneGreaterThan(0) and not IsKillingBlow() and not AnyEntityIsItem()"
data "Roll" "not SavingThrow(Ability.Charisma(), SourceSpellDC(13,context.Observer,Ability.Charisma),false,false,context.Target)"
data "Success" "DealDamage(8d10,Psychic)"
data "Cost" "WarlockSpellSlot:1:5"
data "Stack" "HurlThroughHell"
data "Cooldown" "OncePerTurn"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Riposte"
type "InterruptData"
data "DisplayName" "h8206f7fbg6fa5g4ceeg9411gbbb7ec7e11e8;1"
data "Description" "h29c21e7bg1694g40bbg9ffdg7de76393c235;3"
data "Icon" "PassiveFeature_Riposte"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and IsMeleeAttack() and IsMiss() and not HasStatus('INVISIBILITY') and not AnyEntityIsItem() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and HasLastAttackTriggered()"
data "Properties" "UseSpell(SWAP,Target_Riposte,true,true,true);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_RIPOSTE,100,0)"
data "Cost" "ReactionActionPoint:1;SuperiorityDie:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Retaliation"
type "InterruptData"
data "DisplayName" "had7e025eg03a7g527cg2086ge64c2b8e00de;1"
data "Description" "hc4dd652ag6046gdaf0gf756g9c949cb09566;1"
data "Icon" "PassiveFeature_Parry"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and IsMeleeAttack() and IsHit() and not AnyEntityIsItem() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and HasLastAttackTriggered()"
data "Properties" "UseSpell(SWAP,Target_MainHandAttack,true,true,true)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled;Ask"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Smite_Divine"
type "InterruptData"
data "DisplayName" "hec12d3b6g365eg4809g8053gbbf4ec3c0686;1"
data "Description" "h905cec81g7e41g4b05gaaddg3d51678f3ecc;4"
data "DescriptionParams" "DealDamage(2d8,Radiant);DealDamage(1d8,Radiant)"
data "ExtraDescription" "hcd476fdag8f18g48b5gb90egc5d15da4b8e7;3"
data "Icon" "Action_Paladin_DivineSmite"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Item() and IsMeleeAttack() and not IsDivineSmite() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and IsWeaponAttack() and not IsCritical() and not IsKillingBlow() and not AnyEntityIsItem()"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(2d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(3d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:1"
data "Stack" "DivineSmite"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Smite_Divine_2"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "DescriptionParams" "DealDamage(3d8,Radiant);DealDamage(1d8,Radiant)"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(3d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(4d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:2"

new entry "Interrupt_Smite_Divine_3"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "DescriptionParams" "DealDamage(4d8,Radiant);DealDamage(1d8,Radiant)"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(4d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(5d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:3"

new entry "Interrupt_Smite_Divine_4"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "DescriptionParams" "DealDamage(5d8,Radiant);DealDamage(1d8,Radiant)"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(5d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(6d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:4"

new entry "Interrupt_Smite_Divine_5"
type "InterruptData"
using "Interrupt_Smite_Divine_4"
data "Cost" "SpellSlotsGroup:1:1:5"

new entry "Interrupt_Smite_Divine_6"
type "InterruptData"
using "Interrupt_Smite_Divine_4"
data "Cost" "SpellSlotsGroup:1:1:6"

new entry "Interrupt_Smite_Divine_NPC"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_Smite_Divine_2_NPC"
type "InterruptData"
using "Interrupt_Smite_Divine_2"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_Smite_Divine_3_NPC"
type "InterruptData"
using "Interrupt_Smite_Divine_3"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_Smite_Divine_Critical"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "DisplayName" "h256bb30eg4f66g44d1gbad3gdb6ff146ee99;1"
data "ExtraDescription" "h58f06fcfg1cd8g4343gb734gff3f6de6a62b;1"
data "Icon" "Action_Paladin_DivineSmite"
data "Conditions" "IsAbleToReact(context.Observer) and not Item() and IsMeleeAttack() and not IsDivineSmite() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and IsWeaponAttack() and IsCritical() and not IsKillingBlow() and not AnyEntityIsItem()"
data "Cost" "SpellSlotsGroup:1:1:1"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_Smite_Divine_Critical_2"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical"
data "DescriptionParams" "DealDamage(3d8,Radiant);"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(3d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(4d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:2"

new entry "Interrupt_Smite_Divine_Critical_3"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical"
data "DescriptionParams" "DealDamage(4d8,Radiant);"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(4d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(5d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:3"

new entry "Interrupt_Smite_Divine_Critical_4"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical"
data "DescriptionParams" "DealDamage(5d8,Radiant);"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(5d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(6d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:4"

new entry "Interrupt_Smite_Divine_Critical_5"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical_4"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(6d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(7d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:5"

new entry "Interrupt_Smite_Divine_Critical_6"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical_4"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(6d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(8d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:6"

new entry "Interrupt_EldritchSmite_3"
type "InterruptData"
data "DisplayName" "h6204087eg02afg6f34gc6f3ga044ca333938;1"
data "Description" "h8eedf843g3e7fg4430gf38agcbee3f5276ee;1"
data "DescriptionParams" "DealDamage(3d8,Force);"
data "Icon" "Spell_Abjuration_BanishingSmite_Melee"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Item() and IsMeleeAttack() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and HasPactWeapon() and IsWeaponAttack() and not IsKillingBlow() and not AnyEntityIsItem()"
data "Properties" "IF(not SizeEqualOrGreater(Size.Huge, context.Target)):ApplyStatus(PRONE,100,1);DealDamage(3d8,Force)"
data "Cost" "WarlockSpellSlot:1:3"
data "Stack" "EldritchSmite"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasActionResource('WarlockSpellSlot',1,3) and not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_EldritchSmite_4"
type "InterruptData"
using "Interrupt_EldritchSmite_3"
data "DescriptionParams" "DealDamage(4d8,Force);"
data "Properties" "IF(not SizeEqualOrGreater(Size.Huge, context.Target)):ApplyStatus(PRONE,100,1);DealDamage(4d8,Force)"
data "Cost" "WarlockSpellSlot:1:4"
data "EnableCondition" "HasActionResource('WarlockSpellSlot',1,4) and not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"

new entry "Interrupt_EldritchSmite_5"
type "InterruptData"
using "Interrupt_EldritchSmite_3"
data "DescriptionParams" "DealDamage(5d8,Force);"
data "Properties" "IF(not SizeEqualOrGreater(Size.Huge, context.Target)):ApplyStatus(PRONE,100,1);DealDamage(5d8,Force)"
data "Cost" "WarlockSpellSlot:1:5"
data "EnableCondition" "HasActionResource('WarlockSpellSlot',1,5) and not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise')"

new entry "Interrupt_OTHERS"
type "InterruptData"

new entry "Interrupt_AttackOfOpportunity"
type "InterruptData"
data "DisplayName" "hc9172302ge2acg4594g8bbcga4c5ae49ca22;1"
data "Description" "h91cb0e9fg1751g4157g8754g4e53aa094c79;3"
data "Icon" "PassiveFeature_AttackOfOpportunity"
data "InterruptContext" "OnLeaveAttackRange"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Observer, context.Target) and Enemy() and not HasStatus('SANCTUARY',context.Source) and not WieldingWeapon('Ammunition', false, false, context.Source) and not (not Player(context.Source) and Tagged('AI_IGNORED_TARGET')  and not HasStatus('GNOLL_SUDDENRUSH')) and not HasStatus('SHOCKWAVE') and not (HasStatus('MOBILE_NO_AOO', context.Source) and HasStatus('MOBILE_NO_AOO_SOURCE', context.Target)) and not HasStatus('FLAMING_SPHERE_AURA') and not HasStatus('SNEAKING',context.Target) and not HasStatus('SG_Ignore_AOO',context.Target)  and not AnyEntityIsItem() and not HasSpellFlag(SpellFlags.IgnoreAoO, context.Target)"
data "Properties" "IF(not HasPassive('Sentinel_ZeroSpeed',context.Source)):UseAttack();IF(HasPassive('Sentinel_ZeroSpeed',context.Source)):UseSpell(Target_Sentinel_AttackOfOpportunity,true,true,true);TutorialEvent(SWAP,f658a860-7e3e-44fd-807b-88d3c0c31217)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_LegendaryResistance_Constitution"
type "InterruptData"
using "Interrupt_LegendaryResistance"
data "DisplayName" "ha4583205g8c18gb350gf32dg77a00fce292b;1"
data "Description" "h7c1b0e46gb237gf83fgc87bgaa37fe24ce87;1"
data "Conditions" "not Self(context.Source,context.Observer) and Self(context.Target,context.Observer) and HasInterruptedSavingThrow() and HasSavingThrowWithAbility(Ability.Constitution) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(10)"

new entry "Interrupt_DisciplinedSurvivor"
type "InterruptData"
using "Interrupt_Indomitable"
data "DisplayName" "h8a002dc0gad8ag663bg9638g00b591f82b0e;1"
data "Description" "h1fb4a227g1425gc50ag4cc3gcc3fae33ba0c;1"
data "Properties" "SetReroll(19,true);"
data "Cost" "ReactionActionPoint:1;KiPoint:1"
data "EnableCondition" "HasActionResource('KiPoint', 1, 0, false, false, context.Source) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER'))"

new entry "Interrupt_FanaticalFocus"
type "InterruptData"
data "DisplayName" "h4d2f5ca6g3825g0f9eg0fe3g8dacd6ad8046;1"
data "Description" "h27bebfbdg2119gf196g9f35gd68b59379d3c;1"
data "Icon" "PassiveFeature_Indomitable"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedSavingThrow() and Self(context.Observer,context.Target) and not AnyEntityIsItem() and IsRerollInterruptInteresting()"
data "Properties" "SetReroll(19,true);AdjustRoll(4);"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasStatus('SG_Rage') and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER'))"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_DeflectMissiles"
type "InterruptData"
data "DisplayName" "hdd5979aag679cg9dd0g61e3ga008a7ae8b1d;1"
data "Description" "h61533f4dg7729g0fc4g6fa7g58551a1cec58;2"
data "ExtraDescription" "haeca38fegb03dg51ddg2b39gd5d46904e748;1"
data "Icon" "PassiveFeature_DeflectMissiles"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and not HasStatus('SG_Polymorph_BeastShape') and IsAttack() and HasDamageEffectFlag(DamageFlags.Hit) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(OBSERVER_OBSERVER,-(1d10+DexterityModifier+ClassLevel(Monk)));ApplyStatus(OBSERVER_TARGET,INTERRUPT_DEFLECT_MISSILES_HIT,100,1);RestoreResource(DeflectMissiles_Charge,1,0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_DeflectEnergy"
type "InterruptData"
using "Interrupt_DeflectMissiles"
data "DisplayName" "h361756a5g160dgfcccg150bg9fe26c997e2e;1"
data "Description" "h5e7deec9gebc3gccc5gaebbg1ce3bc011129;1"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and not HasStatus('SG_Polymorph_BeastShape') and not AnyEntityIsItem()"

new entry "Interrupt_DeflectMissiles_Return"
type "InterruptData"
data "DisplayName" "h889cf2aagf9ccg5b75g5b7cg30b0180cd08b;2"
data "Description" "h06b12a88gbdb9g67f4g606ag1a64d30afa3c;1"
data "Icon" "PassiveFeature_DeflectMissiles"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and IsAttack() and not (IsCriticalMiss() or IsMiss()) and HasActionResource('DeflectMissiles_Charge', 1, 0, false, false, context.Observer) and not AnyEntityIsItem()"
data "Properties" "UseSpell(SWAP,Projectile_Deflect_Missiles,true,true,true,c4598bdb-fc07-40dd-a62c-90cc138bd76f);UseActionResource(OBSERVER_OBSERVER,DeflectMissiles_Charge,1,0)"
data "Cost" "KiPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_DivineStrike_Necrotic"
type "InterruptData"
using "Interrupt_DivineStrike_Radiant"
data "DisplayName" "h032793ccg7299ga408g4b99gdc00502bb5ec;1"
data "DescriptionParams" "DealDamage(1d8,Necrotic)"
data "Properties" "DealDamage(1d8,Necrotic,Magical)"

new entry "Interrupt_DivineStrike_Necrotic_Critical"
type "InterruptData"
using "Interrupt_DivineStrike_Radiant_Critical"
data "DisplayName" "h209bd032g844dg6f34g518fg8da4ea7a9589;1"
data "DescriptionParams" "DealDamage(1d8,Necrotic)"
data "Properties" "DealDamage(1d8,Necrotic,Magical)"

new entry "Interrupt_WardingFlare_Improved"
type "InterruptData"
using "Interrupt_WardingFlare"
data "DisplayName" "hac8f8789ge39bgda26g9e4dg2bd3afc893ba;1"
data "Description" "hd9ef0c71g40f3g283bg9316g9ff7fe05ac98;1"
data "Icon" "PassiveFeature_ImprovedFlare"
data "InterruptContextScope" "Nearby"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and not Self(context.Target,context.Observer) and HasInterruptedAttack() and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source) and not InterruptHasDisadvantage()"
data "Properties" "SetDisadvantage();ApplyStatus(OBSERVER_TARGET,PASSIVE_WARDING_FLARE,100,0);IF(not Self(context.Target,context.Observer)):UseSpell(OBSERVER_TARGET,Target_ImprovedFlare_Interrupt,true,true,true);IF(HasPassive('WardingFlare_Improved',context.Source)):ApplyStatus(OBSERVER_TARGET,WARDING_FLARE_HP,100,-1)"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Counterspell"
type "InterruptData"
data "DisplayName" "h544bacf3g3b91g938cg1ab2g1dc1df9634fa;1"
data "Description" "h1cc86ea0g5926g7771ge327g93e289a15d9c;1"
data "Icon" "PassiveFeature_Counterspell"
data "InterruptContext" "OnSpellCast"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source)"
data "Roll" "not SavingThrow(Ability.Constitution(), SourceSpellDC(14,context.Target))"
data "Success" "Counterspell();UseSpell(OBSERVER_SOURCE,Target_Counterspell_Success,true,true,true)"
data "Failure" "IF(not HasPassive('SpellBreaker')):UseSpell(OBSERVER_SOURCE,Target_Counterspell_Failure,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:3"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Counterspell_4"
type "InterruptData"
using "Interrupt_Counterspell"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:4"

new entry "Interrupt_Counterspell_5"
type "InterruptData"
using "Interrupt_Counterspell"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:5"

new entry "Interrupt_Counterspell_6"
type "InterruptData"
using "Interrupt_Counterspell"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:6"

